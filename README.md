# 京东自动签到领京豆脚本

这个Python脚本可以帮助您自动完成京东每日签到领取京豆的任务。

## 功能特点

- 自动签到领取京豆
- 支持从文件读取cookie
- 自动检测登录状态
- 多种签到方式，提高成功率
- 详细的日志记录
- 重试机制，应对网络波动

## 安装

### 前提条件

- Python 3.6+
- pip (Python包管理器)

### 步骤

1. 克隆或下载本仓库到本地
2. 安装所需依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 获取京东Cookie

1. 使用Edge浏览器打开京东网站(www.jd.com)并登录
2. 登录成功后，按F12打开开发者工具
3. 在开发者工具中：
   - 点击顶部的"应用程序"(Application)标签
   - 在左侧找到 Cookies -> https://www.jd.com
   - 在右侧表格中全选所有内容（Ctrl+A）并复制（Ctrl+C）
   - 创建 `cookies.txt`文件并粘贴内容

### 2. 运行脚本

```bash
python jd_beans.py
```

脚本会自动检测 `cookies.txt`文件并使用其中的Cookie进行登录和签到。

## 配置文件

### cookies.txt

从浏览器复制的Cookie表格格式，包含名称、值、域等信息。

### jd_cookies.json

脚本处理后的Cookie存储文件，自动生成，不需要手动创建。

## 日志

脚本运行日志会同时输出到控制台和 `jd_beans.log`文件中。您可以通过查看日志文件了解详细的运行情况。

## 常见问题

### 登录失败

如果遇到"登录状态检查失败"的提示：

1. 确保您已经在浏览器中成功登录京东
2. 重新获取完整的Cookie
3. 确保Cookie中包含关键值（pt_key、pt_pin等）
4. 清除浏览器缓存后重新登录和获取Cookie

### 签到失败

如果签到失败，可能的原因包括：

1. Cookie已过期（京东Cookie通常有效期不长）
2. 网络问题导致请求失败
3. 京东接口变更

解决方法：重新获取Cookie并运行脚本。

## 自动化运行

### Windows计划任务

可以使用Windows的计划任务功能每天自动运行脚本：

1. 打开"任务计划程序"
2. 创建基本任务
3. 设置每天运行
4. 操作选择"启动程序"
5. 程序路径选择Python解释器，参数填写脚本路径

### Linux Crontab

在Linux系统上可以使用crontab设置定时任务：

```bash
# 每天早上7点运行
0 7 * * * cd /path/to/script && python jd_beans.py
```

## 注意事项

- 本脚本仅用于个人学习和研究
- 请勿频繁运行，以免对京东服务器造成压力
- Cookie中包含敏感信息，请勿分享给他人
- 脚本不保证100%成功率，京东可能随时调整接口

## 许可证

MIT License
